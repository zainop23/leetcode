#include <bits/stdc++.h> 
void search(string ans, vector<string> &result, vector < vector < int >> & arr,
     vector < vector < int >> &vis, int i, int j, int n){
    if(i==n-1 && j==n-1){
        result.push_back(ans);
        return;
    }
    vis[i][j]=1;

    if(i+1<n && !vis[i+1][j] && arr[i+1][j]){
        ans.push_back('D');
        search(ans,result,arr,vis,i+1,j,n);
        ans.pop_back();
    }
    if(i-1>=0 && !vis[i-1][j] && arr[i-1][j]){
        ans.push_back('U');
        search(ans,result,arr,vis,i-1,j,n);
        ans.pop_back();
    }
     if(j+1<n && !vis[i][j+1] && arr[i][j+1]){
        ans.push_back('R');
        search(ans,result,arr,vis,i,j+1,n);
        ans.pop_back();
    }
     if(j-1>=0 && !vis[i][j-1] && arr[i][j-1]){
        ans.push_back('L');
        search(ans,result,arr,vis,i,j-1,n);
        ans.pop_back();
    }
    vis[i][j]=0;
}

vector < string > searchMaze(vector < vector < int >> & arr, int n) {
    if(arr[0][0]==0) return {{}};
    vector<string> result;
    vector < vector < int >> vis(n,vector<int>(n,0));
    string ans="";
    search(ans,result,arr,vis,0,0,n);
    sort(result.begin(),result.end());
    return result;
}
